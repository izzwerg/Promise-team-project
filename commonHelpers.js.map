{"version":3,"file":"commonHelpers.js","sources":["../src/favorites.js"],"sourcesContent":["import { openModal } from './js/modal/openModal';\n\nfunction renderFilteredFavExercises() {\n  let favorites = JSON.parse(localStorage.getItem('favorites')) || [];\n  const newData = favorites\n    .map(\n      item => `<li class=\"fav-ex-item\">\n      <div class=\"fav-ex-item-header\">\n          <div class=\"fav-workout-box\">\n              <p class=\"fav-workout-text\">workout</p>\n          </div>\n          <button class=\"fav-delete-btn\" type=\"submit\">\n                <svg class=\"fav-delete-icon\" width=\"16\" height=\"16\">\n                    <use href=\"./assets/sprite-a52c12ca.svg#trash\"></use>\n                </svg>\n          </button>\n          <button class=\"fav-start-ex-btn filtered-start-ex-btn\" type=\"button\" data-id=\"${\n            item._id\n          }\">Start\n              <svg class=\"fav-start-arrow-icon\" width=\"14\" height=\"14\">\n                  <use href=\"./assets/sprite-a52c12ca.svg#arrow\"></use>\n              </svg>\n          </button>\n      </div>\n      <div class=\"fav-ex-name-box\">\n          <div class=\"fav-run-icon-box\">\n              <svg class=\"fav-run-icon\" width=\"16\" height=\"16\">\n                  <use href=\"./assets/sprite-a52c12ca.svg#runner\"></use>\n              </svg>\n          </div>\n          <p class=\"fav-ex-name\">${capitalizeText(item.name)}</p>\n      </div>\n      <ul class=\"fav-ex-desc-list\">\n          <li class=\"fav-ex-desc-item\">Burned calories:\n              <span class=\"fav-ex-desc-value\">${item.burnedCalories} / ${\n        item.time\n      } min</span>\n          </li>\n          <li class=\"fav-ex-desc-item\">Body part:\n              <span class=\"fav-ex-desc-value\">${capitalizeText(\n                item.bodyPart\n              )}</span>\n          </li>\n          <li class=\"fav-ex-desc-item\">Target:\n              <span class=\"fav-ex-desc-value\">${capitalizeText(\n                item.target\n              )}</span>\n          </li>\n      </ul>\n  </div>`\n    )\n    .join('');\n\n  const noFavExercisesHTML = `\n      <div class=\"no-fav-ex-inner\">\n        <div class=\"dumbbell-img\"></div>\n        <p class=\"no-fav-text\">It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\n      </div>\n    `;\n\n  const screenWidth = window.innerWidth;\n  let itemsPerPage;\n\n  if (screenWidth < 768) {\n    itemsPerPage = 8;\n  } else {\n    itemsPerPage = favorites.length;\n  }\n\n  const noFavExercisesContainer = document.querySelector('.no-fav-ex-inner');\n  const favExercisesContainer = document.querySelector('.fav-ex-list');\n  const paginationContainer = document.querySelector('.fav-pag-btn-set');\n\n  if (favorites.length === 0) {\n    if (noFavExercisesContainer) {\n      noFavExercisesContainer.innerHTML = noFavExercisesHTML;\n    }\n  } else {\n    if (favExercisesContainer) {\n      favExercisesContainer.innerHTML = newData;\n      openModal();\n    }\n  }\n\n  if (itemsPerPage < favorites.length) {\n    if (paginationContainer) {\n      const fragment = document.createDocumentFragment();\n      const totalPages = Math.ceil(favorites.length / itemsPerPage);\n\n      for (let i = 1; i <= totalPages; i++) {\n        const button = document.createElement('button');\n        button.classList.add('fav-pagination-btn');\n        button.textContent = i;\n        button.addEventListener('click', () => {\n          const startIndex = (i - 1) * itemsPerPage;\n          const endIndex = startIndex + itemsPerPage;\n          const slicedData = favorites.slice(startIndex, endIndex);\n          const slicedDataHTML = slicedData\n            .map(\n              item => `<li class=\"fav-ex-item\">\n              <div class=\"fav-ex-item-header\">\n                  <div class=\"fav-workout-box\">\n                      <p class=\"fav-workout-text\">workout</p>\n                  </div>\n                  <button class=\"fav-delete-btn\" type=\"submit\">\n                        <svg class=\"fav-delete-icon\" width=\"16\" height=\"16\">\n                            <use href=\"./assets/sprite-a52c12ca.svg#trash\"></use>\n                        </svg>\n                  </button>\n                  <button class=\"fav-start-ex-btn filtered-start-ex-btn\" type=\"button\" data-id=\"${\n                    item._id\n                  }\">Start\n                      <svg class=\"fav-start-arrow-icon\" width=\"14\" height=\"14\">\n                          <use href=\"./assets/sprite-a52c12ca.svg#arrow\"></use>\n                      </svg>\n                  </button>\n              </div>\n              <div class=\"fav-ex-name-box\">\n                  <div class=\"fav-run-icon-box\">\n                      <svg class=\"fav-run-icon\" width=\"16\" height=\"16\">\n                          <use href=\"./assets/sprite-a52c12ca.svg#runner\"></use>\n                      </svg>\n                  </div>\n                  <p class=\"fav-ex-name\">${capitalizeText(item.name)}</p>\n              </div>\n              <ul class=\"fav-ex-desc-list\">\n                  <li class=\"fav-ex-desc-item\">Burned calories:\n                      <span class=\"fav-ex-desc-value\">${\n                        item.burnedCalories\n                      } / ${item.time} min</span>\n                  </li>\n                  <li class=\"fav-ex-desc-item\">Body part:\n                      <span class=\"fav-ex-desc-value\">${capitalizeText(\n                        item.bodyPart\n                      )}</span>\n                  </li>\n                  <li class=\"fav-ex-desc-item\">Target:\n                      <span class=\"fav-ex-desc-value\">${capitalizeText(\n                        item.target\n                      )}</span>\n                  </li>\n              </ul>\n          </div>`\n            )\n            .join('');\n          favExercisesContainer.innerHTML = slicedDataHTML;\n          openModal();\n        });\n        if (totalPages > 9 && screenWidth < 768) {\n          button.classList.add('fav-pagi-btn-overflow');\n        } else {\n          button.classList.remove('fav-pagi-btn-overflow');\n        }\n        fragment.appendChild(button);\n      }\n\n      paginationContainer.innerHTML = '';\n      paginationContainer.appendChild(fragment);\n    }\n  }\n\n  const deleteButtons = document.querySelectorAll('.fav-delete-btn');\n  Array.from(deleteButtons).forEach(button => {\n    button.addEventListener('click', () => {\n      const listItem = button.closest('.fav-ex-item');\n      const itemId = listItem.querySelector('.fav-start-ex-btn').dataset.id;\n\n      // Remove the item from the list\n      listItem.remove();\n\n      // Remove the item from local storage\n      const updatedFavorites = favorites.filter(item => item._id !== itemId);\n      localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n      favorites = updatedFavorites;\n    });\n  });\n}\n\nexport function capitalizeText(text) {\n  if (!text.length) {\n    return '';\n  }\n  const firstLetter = text.charAt(0);\n  const firstLetterCap = firstLetter.toUpperCase();\n  const remainingLetters = text.slice(1);\n  return firstLetterCap + remainingLetters;\n}\n\nrenderFilteredFavExercises();\n"],"names":["renderFilteredFavExercises","favorites","newData","item","capitalizeText","noFavExercisesHTML","screenWidth","itemsPerPage","noFavExercisesContainer","favExercisesContainer","paginationContainer","openModal","fragment","totalPages","button","startIndex","endIndex","slicedDataHTML","deleteButtons","listItem","itemId","updatedFavorites","text","firstLetterCap","remainingLetters"],"mappings":"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"}