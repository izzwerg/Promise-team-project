{"version":3,"file":"commonHelpers2.js","sources":["../src/js/footer.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\n\nconst subscriptionForm = document.getElementById('subscriptionForm');\nconst userSubmit = document.getElementById('user-submit');\n\nconst BASE_URL = 'https://energyflow.b.goit.study/api/subscription';\n\nsubscriptionForm.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n\n  const userEmail = userSubmit.value;\n\n  if (!validateEmail(userEmail)) {\n    iziToast.info({\n      title: 'Info',\n      message: 'Enter a valid email',\n    });\n    return;\n  }\n\n  try {\n    const response = await axios.post(BASE_URL, { email: userEmail });\n    subscriptionForm.reset();\n    if (response.status === 201) {\n      iziToast.info({\n        title: 'Info',\n        message:\n          \"We're excited to have you on board! ðŸŽ‰ Thank you for subscribing to new exercises on Energy Flow. You've just taken a significant step towards improving your fitness and well-being.\",\n      });\n    }\n  } catch (response) {\n    if (response.message === 'Request failed with status code 409') {\n      subscriptionForm.reset();\n      iziToast.info({\n        title: 'Info',\n        message: 'Subscription already exists',\n      });\n      return;\n    } else {\n      iziToast.info({\n        title: 'Info',\n        message:\n          'Sorry, an error occurred while verifying an email. Please try again!',\n      });\n    }\n  }\n}\n\nfunction validateEmail(email) {\n  const regex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  return regex.test(email);\n}\n"],"names":["subscriptionForm","userSubmit","BASE_URL","onFormSubmit","event","userEmail","validateEmail","iziToast","response","axios","email"],"mappings":"0FAIA,MAAMA,EAAmB,SAAS,eAAe,kBAAkB,EAC7DC,EAAa,SAAS,eAAe,aAAa,EAElDC,EAAW,mDAEjBF,EAAiB,iBAAiB,SAAUG,CAAY,EAExD,eAAeA,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAYJ,EAAW,MAE7B,GAAI,CAACK,EAAcD,CAAS,EAAG,CAC7BE,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,qBACf,CAAK,EACD,MACD,CAED,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,KAAKP,EAAU,CAAE,MAAOG,CAAS,CAAE,EAChEL,EAAiB,MAAK,EAClBQ,EAAS,SAAW,KACtBD,EAAS,KAAK,CACZ,MAAO,OACP,QACE,uLACV,CAAO,CAEJ,OAAQC,EAAU,CACjB,GAAIA,EAAS,UAAY,sCAAuC,CAC9DR,EAAiB,MAAK,EACtBO,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,6BACjB,CAAO,EACD,MACN,MACMA,EAAS,KAAK,CACZ,MAAO,OACP,QACE,sEACV,CAAO,CAEJ,CACH,CAEA,SAASD,EAAcI,EAAO,CAE5B,MADc,2CACD,KAAKA,CAAK,CACzB"}