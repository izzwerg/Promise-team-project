{"version":3,"file":"commonHelpers2.js","sources":["../src/main.js","../src/js/footer.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst exercisesWrapper = document.querySelector('.wrapper-exercises');\nconst paginationWrapper = document.querySelector('.pagination-wrapper');\nconst exercisesTitle = document.querySelector('.exercises-title');\nconst muscleBtn = document.getElementById('muscle-btn');\nconst bodyBtn = document.getElementById('body-btn');\nconst equipmentBtn = document.getElementById('equipment-btn');\nlet currentFilter = 'Muscles';\n\nlet selectedBtn = 'muscle-btn';\n\nlet totalPages;\nlet page = 1;\nlet dataList;\n\n[muscleBtn, bodyBtn, equipmentBtn].forEach(btn => {\n  btn.addEventListener('click', function () {\n    if (selectedBtn !== btn.id) {\n      changeActiveBtn(btn.id);\n      selectedBtn = btn.id;\n      page = 1;\n      if (btn.id === 'muscle-btn') {\n        currentFilter = 'Muscles';\n      }\n      if (btn.id === 'body-btn') {\n        currentFilter = 'Body parts';\n      }\n      if (btn.id === 'equipment-btn') {\n        currentFilter = 'Equipment';\n      }\n      getExercises();\n    }\n  });\n});\n\nfunction changeActiveBtn(id) {\n  [muscleBtn, bodyBtn, equipmentBtn].forEach(btn => {\n    btn.className = `exercises-category ${id === btn.id ? 'active' : ''}`;\n  });\n}\n\ngetExercises();\n\nasync function getExercises() {\n  const apiUrl = 'https://energyflow.b.goit.study/api/filters';\n  const requestData = {\n    filter: currentFilter,\n    limit: setLimit(),\n    page,\n  };\n\n  try {\n    const response = await axios.get(\n      `${apiUrl}?${new URLSearchParams(requestData)}`\n    );\n    exercisesWrapper.innerHTML = `<div class=\"muscles-list\"></div>`;\n    dataList = response.data.results;\n    totalPages = response.data.totalPages;\n    renderExercises();\n    setPagination();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `Something went wrong. Please try again later.`,\n      position: 'topRight',\n    });\n  }\n}\n\nfunction getBodyParts() {\n  // BODY PARTS SECTION\n  return;\n}\n\nfunction getEquipment() {\n  //Equipment SECTION\n  return;\n}\nfunction renderExercises() {\n  const newData = dataList\n    .map(\n      item => `<div class=\"muscle-item\" \n       style=\"background-image: linear-gradient(rgba(16, 16, 16, 0.7), rgba(16, 16, 16, 0.7)), url(${\n         item.imgUrl\n       })\" ><div class=\"muscle-item-wrapper\">\n          <span class=\"muscle-category\">${capitalizeText(item.name)}</span>\n           <span class=\"muscle-item-category\">${item.filter}</span></div>\n           </div>`\n    )\n    .join('');\n  const muscleList = document.querySelector('.muscles-list');\n  muscleList.innerHTML = newData;\n}\n\n\nfunction setPagination() {\n  const paginationList = [];\n  for (let i = 1; i <= totalPages; i++) {\n    paginationList.push(\n      `<span class=\"pagination-number ${\n        i === page ? 'active' : ''\n      }\">${i}</span>`\n    );\n  }\n  paginationWrapper.innerHTML = paginationList.join('');\n  const paginationNumbers =\n    document.getElementsByClassName('pagination-number');\n  for (let i = 0; i < paginationNumbers.length; i++) {\n    paginationNumbers[i].addEventListener('click', function () {\n      changePagination(i + 1);\n    });\n  }\n}\n\nfunction changePagination(newPageNumber) {\n  if (newPageNumber === page) {\n    return;\n  }\n  page = newPageNumber;\n  getExercises();\n}\n\nfunction capitalizeText(text) {\n  if (!text.length) {\n    return '';\n  }\n  const firstLetter = text.charAt(0);\n  const firstLetterCap = firstLetter.toUpperCase();\n  const remainingLetters = text.slice(1);\n  return firstLetterCap + remainingLetters;\n}\nfunction setLimit() {\n  if (window.screen.width >= 768) {\n    return 12;\n  }\n  return 8;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\n\nconst subscriptionForm = document.getElementById('subscriptionForm');\nconst userSubmit = document.getElementById('user-submit');\n\nconst BASE_URL = 'https://energyflow.b.goit.study/api/subscription';\n\nsubscriptionForm.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(event) {\n  event.preventDefault();\n\n  const userEmail = userSubmit.value;\n\n  if (!validateEmail(userEmail)) {\n    iziToast.info({\n      title: 'Info',\n      message: 'Enter a valid email',\n    });\n    return;\n  }\n\n  try {\n    const response = await axios.post(BASE_URL, { email: userEmail });\n    if (response.status === 201) {\n      iziToast.info({\n        title: 'Info',\n        message:\n          \"We're excited to have you on board! :tada: Thank you for subscribing to new exercises on Energy Flow. You've just taken a significant step towards improving your fitness and well-being.\",\n      });\n    }\n  } catch (response) {\n    if (response.message === 'Request failed with status code 409') {\n      iziToast.info({\n        title: 'Info',\n        message: 'Subscription already exists',\n      });\n      return;\n    } else {\n      iziToast.info({\n        title: 'Info',\n        message:\n          'Sorry, an error occurred while verifying an email. Please try again!',\n      });\n    }\n  }\n}\n\nfunction validateEmail(email) {\n  const regex = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  return regex.test(email);\n}\n"],"names":["exercisesWrapper","paginationWrapper","muscleBtn","bodyBtn","equipmentBtn","currentFilter","selectedBtn","totalPages","page","dataList","btn","changeActiveBtn","getExercises","id","apiUrl","requestData","setLimit","response","axios","renderExercises","setPagination","iziToast","newData","item","capitalizeText","muscleList","paginationList","i","paginationNumbers","changePagination","newPageNumber","text","firstLetterCap","remainingLetters","subscriptionForm","userSubmit","BASE_URL","onFormSubmit","event","userEmail","validateEmail","email"],"mappings":"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"}